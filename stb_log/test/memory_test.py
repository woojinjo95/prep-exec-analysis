import pandas as pd
import re
import io

# Raw data
data1 = """
Timestamp : 2021-03-31 16:52:35.156
Tasks: 260 total,   1 running, 257 sleeping,   0 stopped,   1 zombie
Mem:   1021212k total,   991288k used,    29924k free,     4900k buffers
Swap:   409596k total,   347060k used,    62536k free,   177084k cached
400%cpu  42%user  36%nice  64%sys 258%idle   0%iow   0%irq   0%sirq   0%host
  PID USER         PR  NI VIRT  RES  SHR S[%CPU] %MEM     TIME+ ARGS                       
  674 system       18  -2 1.1G  54M  28M S 39.3   5.4   1:52.02 system_server
 7836 shell        20   0 5.2M 2.6M 2.0M R 24.2   0.2   0:00.10 top -n 1 -d 1 -b
 1657 u0_a57       20   0 1.0G  24M  15M S 18.1   2.3   1:33.41 com.android.providers.tv
  269 root         20   0 265M  13M 9.2M S 18.1   1.3   3:17.28 iptvserver
  496 media        20   0 131M 6.9M 3.9M S  6.0   0.6   1:11.24 mediaserver
  181 root         20   0 283M  13M 5.6M S  6.0   1.2   4:38.81 ampservice
 2123 system       20   0 1.0G  21M  13M S  3.0   2.1   0:09.34 com.lguplus.iptv5.base.curationinputservice
 1240 system       10 -10 1.1G  65M  38M S  3.0   6.5   1:06.83 com.lguplus.android.tv
"""

top_log = r" Timestamp : 2023-08-04 08:27:59.251569\nTasks: 293 total,   1 running, 292 sleeping,   0 stopped,   0 zombie\n  Mem:       16E total,       16E used,      379M free,       87M buffers\n Swap:      256M total,      1.3M used,      255M free,      752M cached\n400%cpu  73%user   0%nice  64%sys 252%idle   0%iow   0%irq  12%sirq   0%host\n  PID USER         PR  NI VIRT  RES  SHR S[%CPU] %MEM     TIME+ ARGS\n 4545 system       10 -10 2.4G 711M 485M S 36.3  23.7 1506:03.63 com.skb.tv\n10650 shell        20   0 9.4M 3.3M 2.6M R 33.3   0.1   0:00.10 top -b -d 10\n 3571 root         20   0 170M  58M  38M S 33.3   1.9 561:40.90 com.skb.btvsochalservice@1.0-service\n 3570 u0_a1111     20   0 250M  93M  23M S 24.2   3.1 438:39.85 com.skb.btvservice@1.0-service\n 3619 mediacodec   20   0  71M  21M  13M S  6.0   0.6 109:11.15 media.codec hw/android.hardware.media.omx@1.0-service\n 3568 system       -2  -8 114M  30M  22M S  3.0   1.0 136:24.50 surfaceflinger\n 3515 system       -3  -4  77M 8.7M 7.1M S  3.0   0.2  68:49.03 android.hardware.graphics.composer@2.3-service.droidlogic\n 3502 audioserver  20   0  42M  14M  11M S  3.0   0.4 119:23.19 android.hardware.audio@2.0-service-droidlogic\n 3269 root         RT   0    0    0    0 D  3.0   0.0  63:47.60 [vdec-core]\n 2202 root         RT   0    0    0    0 S  3.0   0.0  55:28.23 [aml-ditest-0]\n10646 shell        20   0 8.3M 2.2M 1.8M S  0.0   0.0   0:00.02 logcat -v long\n10643 shell        20   0 7.6M 2.5M 2.1M S  0.0   0.0   0:00.01 sh -c logcat -c; logcat -v long\n10587 root         20   0    0    0    0 S  0.0   0.0   0:00.06 [kworker/u8:2]\n10500 root         20   0    0    0    0 S  0.0   0.0   0:00.22 [kworker/u8:1]\n10305 root         20   0    0    0    0 S  0.0   0.0   0:00.79 [kworker/u8:0]\n 9551 root         20   0    0    0    0 S  0.0   0.0   0:08.69 [kworker/0:0]\n 8949 root          0 -20    0    0    0 S  0.0   0.0   0:32.00 [kworker/u9:0]\n 8575 root         20   0    0    0    0 S  0.0   0.0   0:14.88 [kworker/3:1]\n 8178 root          0 -20    0    0    0 S  0.0   0.0   0:35.26 [kworker/u9:1]\n 7825 root         20   0    0    0    0 S  0.0   0.0   0:04.40 [kworker/1:1]\n 3238 root         20   0    0    0    0 S  0.0   0.0   0:03.06 [kworker/2:2]\n 1474 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [kworker/3:2]\n  448 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kbase_event]\n  408 u0_i9000     20   0 1.3G 111M  76M S  0.0   3.6   0:20.78 com.android.webview:sandboxed_process0:org.chromium.content.app.SandboxedPr\n  387 u0_a40       20   0 1.2G  66M  45M S  0.0   2.2   0:00.31 com.android.webview:webview_service\n19241 system       20   0 1.5G  93M  65M S  0.0   3.1   0:01.37 com.skb.zemkids\n16129 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kbase_event]\n10295 root         20   0    0    0    0 S  0.0   0.0   0:00.09 [kworker/2:0]\n 6299 u0_a42       16  -4 1.2G 143M 108M S  0.0   4.7   0:21.78 com.skb.adui\n 6242 system       20   0 1.2G  59M  39M S  0.0   1.9   0:00.26 com.vasott.manufacturetest\n 6203 system       20   0 1.2G  60M  39M S  0.0   1.9   0:00.19 com.vasott.attdaemon\n 6168 u0_a41       20   0 1.2G  63M  42M S  0.0   2.1   5:58.60 com.ti2.AudioMirror\n 6122 system       20   0 1.2G  89M  54M S  0.0   2.9   0:04.04 com.skt.aidev.nuguupdater\n 6085 u0_a43       20   0 1.2G  73M  51M S  0.0   2.4   0:42.98 com.skb.nads.agent\n 5796 system       20   0 1.2G  70M  49M S  0.0   2.3   6:41.15 com.uei.quicksetsdk.skb\n 5559 system       20   0 1.4G  71M  48M S  0.0   2.3   2:25.83 com.skb.btv.bluetooth\n 5505 system       20   0 1.2G  93M  59M S  0.0   3.0   2:36.06 com.skb.addradagent\n 5465 u0_a45       20   0 1.2G  52M  32M S  0.0   1.7   0:00.08 com.android.traceur\n 5344 u0_a2        20   0 1.2G  57M  36M S  0.0   1.9   0:00.12 com.android.providers.tv\n 5304 u0_a12       20   0 1.2G  69M  45M S  0.0   2.3   0:00.74 android.process.acore\n 5265 system       20   0 1.2G  64M  43M S  0.0   2.1   0:04.62 com.skt.aidev.device.connect\n 5241 u0_a9        20   0 1.2G  57M  36M S  0.0   1.9   0:00.44 com.android.providers.calendar\n 5223 system       20   0 1.2G  55M  34M S  0.0   1.8   0:00.09 com.android.localtransport\n 5196 u0_a21       20   0 1.4G  60M  39M S  0.0   2.0   0:00.11 com.skplanet.hlsplayer\n 5178 system       20   0 1.2G  66M  43M S  0.0   2.2   0:09.49 com.skb.btv.framework.media.nativeplayer\n 5149 u0_a11       20   0 1.2G  56M  35M S  0.0   1.8   0:00.13 com.android.permissioncontroller\n 5126 system       20   0 1.2G  70M  49M S  0.0   2.3   0:12.84 com.skb.stbPush\n 5018 system       20   0 1.2G  80M  46M S  0.0   2.6   0:01.36 com.skb.btv.upgrade\n 4979 system       20   0 1.2G  69M  44M S  0.0   2.3   0:04.75 com.zapple.zap:client\n 4962 u0_a25       20   0 1.3G  95M  66M S  0.0   3.1   2:11.23 com.skt.aidev.nugustb\n 4936 system       20   0 1.2G  64M  43M S  0.0   2.1   0:00.13 com.skb.tvpatch\n 4869 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kbase_event]\n 4842 system       20   0 1.2G  64M  43M S  0.0   2.1   0:00.41 com.tvstorm.tv.ime\n 4788 system       20   0 1.2G  71M  47M S  0.0   2.3   0:26.97 com.skb.btv.smartrcuagent\n 4767 u0_a44       10 -10 1.4G 202M  46M S  0.0   6.7  78:26.89 com.skb.btv.framework.navigator\n 4708 system       20   0 1.2G  77M  40M S  0.0   2.5   0:21.97 com.skb.btv.logsystem\n 4658 system       20   0 1.2G  78M  56M S  0.0   2.6   2:49.54 com.skb.btv.framework\n 4632 u0_a22       20   0 1.2G  66M  43M S  0.0   2.1   0:41.02 com.skb.btv.msgbroker\n 4608 u0_a6        20   0 1.2G  73M  50M S  0.0   2.4   0:01.44 android.process.media\n 4522 u0_a26       20   0 1.2G  66M  45M S  0.0   2.2   1:44.40 com.ti2.mdns\n 4508 system       20   0 1.2G  56M  35M S  0.0   1.8   0:00.10 com.droidlogic.SubTitleService\n 4485 secure_element 20 0 1.2G  48M  27M S  0.0   1.5   0:00.06 com.android.se\n 4473 root         30  10 8.3M 2.8M 2.3M S  0.0   0.0   6:23.09 logcat -bmain -f/data/btv_home/tmp/monitor_log/main.log -vthreadtime -r1000 -n1 *:I\n 4420 root         20   0  70M  19M  15M S  0.0   0.6   1:40.07 skb_logsystem\n 4419 root         20   0  45M  18M  15M S  0.0   0.5   0:00.43 screencontrol\n 4411 root         20   0  29M 2.7M 2.0M S  0.0   0.0  10:25.22 audiomirror-daemon 1\n 4320 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kbase_event]\n 4261 u0_a13       20   0 1.2G  64M  41M S  0.0   2.1   1:19.77 android.ext.services\n 4187 system       20   0 1.2G  87M  59M S  0.0   2.9   0:29.31 com.skb.btv.ime\n 4166 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kbase_event]\n 4077 system       20   0 1.2G  72M  49M S  0.0   2.4   0:00.21 com.android.tv.settings\n 4066 u0_a35       20   0 1.2G  52M  31M S  0.0   1.7   0:00.13 com.vasott.blehelper\n 4049 webview_zygote 20 0 1.3G  54M  34M S  0.0   1.8   0:00.08 webview_zygote\n 4025 system       20   0 1.2G  64M  43M S  0.0   2.1   0:00.40 com.droidlogic\n 3976 u0_a37       20   0 1.2G 107M  71M S  0.0   3.5   0:04.57 com.android.systemui\n 3954 bluetooth    20   0 1.2G  84M  56M S  0.0   2.7   2:44.24 com.android.bluetooth\n 3821 system       18  -2 1.6G 163M 119M S  0.0   5.4 148:58.15 system_server\n 3820 root         -3   0    0    0    0 S  0.0   0.0   7:30.22 [aml_buf_toggle_]\n 3773 root         RT   0    0    0    0 S  0.0   0.0  12:23.91 [irq/27-ff642000]\n 3687 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kbase_event]\n 3643 root         20   0 9.2M 2.7M 2.0M S  0.0   0.0   0:00.09 ip6tables-restore --noflush -w -v\n 3642 root         20   0 8.0M 2.6M 2.0M S  0.0   0.0   0:00.11 iptables-restore --noflush -w -v\n 3639 mdnsr        20   0 3.3M 988K 660K S  0.0   0.0   0:01.55 mdnsd\n 3632 tombstoned   20   0 8.0M 1.8M 1.5M S  0.0   0.0   0:00.00 tombstoned\n 3631 system       20   0  14M 5.0M 4.2M S  0.0   0.1   0:00.04 gatekeeperd /data/misc/gatekeeper\n 3622 mediacodec   20   0  67M  16M  11M S  0.0   0.5   0:01.08 media.swcodec oid.media.swcodec/bin/mediaswcodec\n 3618 wifi         20   0  12M 3.6M 3.0M S  0.0   0.1   0:00.03 wificond\n 3616 root         30  10  20M 5.0M 3.6M S  0.0   0.1   1:31.01 storaged\n 3611 statsd       20   0  20M 5.3M 4.3M S  0.0   0.1   0:17.57 statsd\n 3610 media        20   0 104M  22M  17M S  0.0   0.7   0:01.26 mediaserver\n 3609 media        20   0  25M  11M 8.9M S  0.0   0.3   0:00.18 media.metrics diametrics\n 3608 mediaex      20   0  78M  26M  18M S  0.0   0.8   0:00.70 media.extractor aextractor\n 3607 media        20   0  19M 5.6M 4.6M S  0.0   0.1   0:00.06 mediadrmserver\n 3606 keystore     20   0  17M 6.0M 5.0M S  0.0   0.2   0:00.08 keystore /data/misc/keystore\n 3605 root         20   0  16M 5.3M 3.8M S  0.0   0.1   2:52.09 installd\n 3603 incidentd    20   0  15M 4.2M 3.4M S  0.0   0.1   0:00.04 incidentd\n 3600 system       20   0  18M 7.4M 6.2M S  0.0   0.2   0:00.10 idmap2d\n 3599 drm          20   0  25M  10M 8.6M S  0.0   0.3   0:00.18 drmserver\n 3598 cameraserver 20   0  34M  13M  11M S  0.0   0.4   0:00.32 cameraserver\n 3593 shell        20   0  35M 4.8M 3.7M S  0.0   0.1  49:05.79 adbd --root_seclabel=u:r:su:s0\n 3590 shell        20   0 7.6M 1.9M 1.6M S  0.0   0.0   0:00.00 sh\n 3587 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [f_mtp]\n 3572 root         RT   0    0    0    0 S  0.0   0.0   0:00.28 [psimon]\n 3563 root         20   0  12M 1.4M 868K S  0.0   0.0  15:53.69 PxPFileHostApp\n 3562 root         20   0  11M 2.6M 1.9M S  0.0   0.0   9:27.58 pxMlrManager\n 3560 lmkd         -2   0 8.6M 2.1M 1.7M S  0.0   0.0   0:04.46 lmkd\n 3556 gpu_service  20   0  14M 4.1M 3.3M S  0.0   0.1   0:00.04 gpuservice\n 3550 root         -3   0    0    0    0 S  0.0   0.0   0:01.55 [video_composer.]\n 3548 root         -3   0    0    0    0 S  0.0   0.0   2:25.58 [video_composer.]\n 3547 audioserver  20   0  57M  19M  16M S  0.0   0.6   0:12.03 audioserver\n 3545 nobody       20   0  10M 3.0M 2.5M S  0.0   0.1   0:09.10 ashmemd\n 3544 root         20   0 7.5M 1.9M 1.5M S  0.0   0.0   0:41.99 PxPFileHostApp\n 3536 wifi         20   0  13M 5.2M 4.4M S  0.0   0.1   0:00.05 android.hardware.wifi@1.0-service\n 3531 system       20   0  12M 3.8M 3.2M S  0.0   0.1   0:00.19 android.hardware.usb@1.0-service\n 3530 system       20   0  11M 4.5M 3.7M S  0.0   0.1   0:01.35 android.hardware.tv.cec@1.0-service\n 3527 system       20   0  14M 4.2M 3.5M S  0.0   0.1   0:35.41 android.hardware.thermal@2.0-service.droidlogic\n 3524 system       20   0  11M 4.0M 3.3M S  0.0   0.1   0:08.49 android.hardware.power@1.0-service\n 3523 system       20   0  11M 4.0M 3.3M S  0.0   0.1   0:00.04 android.hardware.power.stats@1.0-service.mock\n 3522 system       20   0  11M 3.8M 3.1M S  0.0   0.1   9:37.10 android.hardware.memtrack@1.0-service\n 3521 system       20   0  11M 3.8M 3.1M S  0.0   0.1   0:00.03 android.hardware.light@2.0-service\n 3520 system       20   0  11M 3.7M 3.1M S  0.0   0.1   0:00.02 android.hardware.ir@1.0-service\n 3518 system       20   0  11M 3.9M 3.3M S  0.0   0.1   0:01.50 android.hardware.health@2.0-service.droidlogic\n 3514 system       20   0  17M 5.9M 4.8M S  0.0   0.2   0:00.35 android.hardware.graphics.allocator@3.0-service\n 3512 system       20   0  12M 4.3M 3.5M S  0.0   0.1   0:00.02 android.hardware.gatekeeper@1.0-service\n 3511 media        20   0  19M 7.5M 6.1M S  0.0   0.2   0:00.12 android.hardware.drm@1.2-service.widevine\n 3509 root          0 -20    0    0    0 S  0.0   0.0   0:00.63 [kworker/2:1H]\n 3508 media        20   0  16M 5.8M 4.9M S  0.0   0.1   0:00.05 android.hardware.drm@1.2-service.clearkey\n 3507 media        20   0  19M 6.6M 5.5M S  0.0   0.2   0:00.07 android.hardware.drm@1.0-service\n 3506 system       20   0  15M 4.2M 3.4M S  0.0   0.1   0:00.04 android.hardware.configstore@1.1-service\n 3505 media        20   0  16M 4.6M 3.8M S  0.0   0.1   0:00.04 android.hardware.cas@1.1-service\n 3504 cameraserver 20   0  19M 6.8M 5.6M S  0.0   0.2   0:00.18 android.hardware.camera.provider@2.5-service\n 3503 bluetooth    20   0  19M 5.2M 4.3M S  0.0   0.1   0:00.73 android.hardware.bluetooth@1.0-service\n 3501 root         20   0  10M 3.4M 2.8M S  0.0   0.1   0:03.97 healthd\n 3500 system       20   0  17M 5.2M 4.4M S  0.0   0.1   0:05.32 android.system.suspend@1.0-service\n 3499 system       20   0  12M 3.7M 3.1M S  0.0   0.1   0:02.18 android.hidl.allocator@1.0-service\n 3498 system       20   0  12M 4.2M 3.5M S  0.0   0.1   0:00.04 android.frameworks.bufferhub@1.0-service\n 3497 root         20   0  27M 8.2M 5.9M S  0.0   0.2   4:34.04 systemcontrol\n 3496 root         20   0  19M 4.5M 3.6M S  0.0   0.1   0:00.04 subtitleserver\n 3495 root         20   0  16M 4.2M 3.4M S  0.0   0.1   0:00.03 rc_server\n 3494 root         20   0  21M 5.7M 4.8M S  0.0   0.1   3:59.37 hdmicecd\n 3492 root         20   0 1.3G 116M  95M S  0.0   3.8   0:02.92 zygote\n 3491 root         20   0  34M 7.1M 5.7M S  0.0   0.2   1:29.60 netd\n 3462 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kbase_job_fault]\n 3451 root         20   0  17M 5.4M 4.6M S  0.0   0.1   0:00.06 apexd\n 3443 system       20   0  12M 4.7M 3.9M S  0.0   0.1   0:00.07 android.hardware.keymaster@4.0-service.amlogic\n 3442 system       20   0  11M 3.7M 3.0M S  0.0   0.1   0:00.02 android.hardware.atrace@1.0-service\n 3440 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 3439 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [jbd2/mmcblk0p15]\n 3435 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 3434 root         20   0    0    0    0 S  0.0   0.0   0:00.12 [jbd2/mmcblk0p10]\n 3432 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 3431 root         20   0    0    0    0 S  0.0   0.0   0:09.31 [jbd2/mmcblk0p19]\n 3427 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 3426 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [jbd2/mmcblk0p3-]\n 3422 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 3421 root         20   0    0    0    0 S  0.0   0.0   0:20.89 [jbd2/mmcblk0p20]\n 3419 root          0 -20    0    0    0 S  0.0   0.0   0:00.31 [kworker/3:1H]\n 3410 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [aml-vcodec-dec]\n 3401 root         RT   0    0    0    0 S  0.0   0.0   0:00.00 [encode_monitor]\n 3270 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [vdec-work]\n 3268 root         RT   0    0    0    0 S  0.0   0.0  31:32.92 [irq/43-vdec-1]\n 3267 root         RT   0    0    0    0 S  0.0   0.0   0:00.00 [irq/42-vdec-0]\n 3258 root         20   0    0    0    0 S  0.0   0.0   0:12.80 [kauditd]\n 3254 root         20   0  22M 6.3M 4.9M S  0.0   0.2   0:01.03 vold --blkid_context=u:r:blkid:s0 --blkid_untrusted_context=u:r:blkid_untrusted:s0 --fsck_context=u:r:fsck:s0 --fsck_untrusted_context=u:r:fsck_untrusted:s0\n 3252 root          0 -20    0    0    0 S  0.0   0.0   0:00.58 [kworker/1:1H]\n 3250 root         20   0  12M 2.9M 2.4M S  0.0   0.0   0:00.04 tee-supplicant\n 3249 system       20   0  10M 2.4M 1.9M S  0.0   0.0   0:00.02 vndservicemanager /dev/vndbinder\n 3248 system       20   0  14M 4.7M 3.8M S  0.0   0.1   4:09.26 hwservicemanager\n 3247 system       20   0 9.2M 3.2M 2.6M S  0.0   0.1   0:19.29 servicemanager\n 3246 logd         30  10  23M 4.9M 2.3M S  0.0   0.1  39:21.25 logd\n 3194 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [kworker/0:2]\n 2674 root         20   0  13M 5.8M 4.5M S  0.0   0.1   0:11.82 ueventd\n 2673 root         20   0  12M 5.2M 4.2M S  0.0   0.1   0:00.04 init subcontext u:r:vendor_init:s0 12\n 2672 root         20   0  13M 5.6M 4.5M S  0.0   0.1   0:00.32 init subcontext u:r:vendor_init:s0 11\n 2671 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 2669 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 2667 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 2665 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 2662 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ext4-rsv-conver]\n 2661 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [jbd2/mmcblk0p13]\n 2658 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2657 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kdmflush]\n 2651 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2650 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kdmflush]\n 2644 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2643 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kdmflush]\n 2637 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2636 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kdmflush]\n 2485 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [kworker/1:2]\n 2472 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [dwc_otg]\n 2440 root         -2 -15    0    0    0 S  0.0   0.0   0:00.00 [mmcqd/0rpmb]\n 2439 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2438 root         -2 -15    0    0    0 S  0.0   0.0   0:00.00 [mmcqd/0boot1]\n 2437 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2436 root         -2 -15    0    0    0 S  0.0   0.0   0:00.00 [mmcqd/0boot0]\n 2435 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2434 root         -2 -15    0    0    0 S  0.0   0.0   1:21.18 [mmcqd/0]\n 2433 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 2416 root         10 -10    0    0    0 S  0.0   0.0   0:00.00 [krfcommd]\n 2405 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [ipv6_addrconf]\n 2335 root          3 -17    0    0    0 S  0.0   0.0   0:01.64 [cma_task3]\n 2334 root          3 -17    0    0    0 S  0.0   0.0   0:01.19 [cma_task2]\n 2333 root          3 -17    0    0    0 S  0.0   0.0   0:01.23 [cma_task1]\n 2332 root          3 -17    0    0    0 S  0.0   0.0   0:02.02 [cma_task0]\n 2296 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [cec_work]\n 2282 root         RT   0    0    0    0 S  0.0   0.0   0:37.89 [irq/48-meson-am]\n 2249 root         20   0    0    0    0 D  0.0   0.0   0:10.32 [videosync]\n 2203 root         20   0    0    0    0 S  0.0   0.0   1:44.33 [aml-dimem-1]\n 2191 root         20   0    0    0    0 S  0.0   0.0   3:28.81 [kthread_hdcp]\n 2181 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [ge2d_monitor]\n 2177 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [codec_mm_ion]\n 2176 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [vmalloc_ion]\n 2163 root         RT   0    0    0    0 S  0.0   0.0   0:00.00 [cpu_hogplug_thr]\n 2162 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [null]\n 2082 root         RT   0    0    0    0 S  0.0   0.0  34:03.28 [cfinteractive]\n 2081 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [dm_bufio_cache]\n 2028 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [eth_moniter_tx_]\n 1991 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1986 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1983 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1980 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1977 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1974 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1971 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1968 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1965 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1962 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1959 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1956 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1953 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1950 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1947 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1944 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1941 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1907 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1906 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1905 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1904 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1903 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1902 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1901 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1900 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1899 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1898 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1897 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1896 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1895 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1894 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1893 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1892 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1888 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [hwrng]\n 1766 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [ecryptfs-kthrea]\n 1680 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [vmstat]\n 1679 root         15  -5    0    0    0 S  0.0   0.0   0:05.41 [kswapd0]\n 1634 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [gp_pll]\n 1551 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [watchdogd]\n 1547 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [cfg80211]\n 1518 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kworker/0:1H]\n 1494 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [devfreq_wq]\n 1488 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [md]\n 1460 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kblockd]\n 1458 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [bioset]\n 1457 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [crypto]\n 1456 root         20   0    0    0    0 S  0.0   0.0   0:00.50 [kcompactd0]\n 1454 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [writeback]\n 1453 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [oom_reaper]\n   32 root         20   0    0    0    0 S  0.0   0.0   0:00.04 [kdevtmpfs]\n   31 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kworker/3:0H]\n   29 root         20   0    0    0    0 S  0.0   0.0   0:07.83 [ksoftirqd/3]\n   28 root         RT   0    0    0    0 S  0.0   0.0   0:00.03 [migration/3]\n   27 root         RT   0    0    0    0 S  0.0   0.0   0:00.86 [watchdog/3]\n   26 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [cpuhp/3]\n   25 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kworker/2:0H]\n   23 root         20   0    0    0    0 S  0.0   0.0   0:08.18 [ksoftirqd/2]\n   22 root         RT   0    0    0    0 S  0.0   0.0   0:00.04 [migration/2]\n   21 root         RT   0    0    0    0 S  0.0   0.0   0:00.83 [watchdog/2]\n   20 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [cpuhp/2]\n   19 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [kworker/1:0H]\n   17 root         20   0    0    0    0 S  0.0   0.0   0:09.25 [ksoftirqd/1]\n   16 root         RT   0    0    0    0 S  0.0   0.0   0:00.05 [migration/1]\n   15 root         RT   0    0    0    0 S  0.0   0.0   0:00.84 [watchdog/1]\n   14 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [cpuhp/1]\n   13 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [cpuhp/0]\n   12 root         RT   0    0    0    0 S  0.0   0.0   0:02.44 [watchdog/0]\n   11 root          0 -20    0    0    0 S  0.0   0.0   0:00.00 [lru-add-drain]\n   10 root         RT   0    0    0    0 S  0.0   0.0   0:00.06 [migration/0]\n    9 root         20   0    0    0    0 S  0.0   0.0   0:00.00 [rcu_bh]\n    8 root         20   0    0    0    0 S  0.0   0.0   0:56.44 [rcu_sched]\n    7 root         20   0    0    0    0 S  0.0   0.0  10:53.30 [rcu_preempt]\n    6 root         20   0    0    0    0 S  0.0   0.0  51:03.94 [ksoftirqd/0]\n    4 root          0 -20    0    0    0 S  0.0   0.0   0:00.68 [kworker/0:0H]\n    2 root         20   0    0    0    0 S  0.0   0.0   0:00.09 [kthreadd]\n    1 root         20   0  28M 6.0M 5.1M S  0.0   0.2   0:28.02 init second_stage\n"


def convert_str(val_str: str, is_value=False):
    if pd.notnull(val_str):
        if is_value:
            val_str = val_str.upper()
            val_str = val_str.replace("B", "")
            if 'K' in val_str:
                val_str = val_str.replace("K", "")
                product = 1024
            elif "M" in val_str:
                val_str = val_str.replace("M", "")
                product = 1024 * 1024
            elif "G" in val_str:
                val_str = val_str.replace("G", "")
                product = 1024 * 1024 * 1024
            elif "E" in val_str:
                val_str = val_str.replace("E", "")
                product = 1
            elif "T" in val_str:
                val_str = val_str.replace("T", "")
                product = 1
            else:
                product = 1
            try:
                return float(val_str) * product
            except Exception as e:
                return val_str
        else:
            return val_str
    else:
        return None




system_data, process_data = top_log.split("%host")
# print(f'system_data: {system_data}')

system_data = system_data.split("\\n")
print(f'system_data: {system_data[2]}')

match = re.findall(r'(\d+[E|M|G|K|T])', system_data[2])
print(match)

if len(match) == 4:
    total = convert_str(match[0], is_value=True)
    used = convert_str(match[1], is_value=True)
    free = convert_str(match[2], is_value=True)
    buffers = convert_str(match[3], is_value=True)
else:
    total = None
    used = None
    free = None
    buffers = None
print(f'total: {total}, used: {used}, free: {free}, buffers: {buffers}')
mem_usage = ((total - free) / total) * 100 if total != 0 else 0.0
print(f'mem_usage: {mem_usage}')

# if match:
#     total = convert_str(match.group(1), is_value=True)
#     used = convert_str(match.group(2), is_value=True)
#     free = convert_str(match.group(3), is_value=True)
#     buffers = convert_str(match.group(4), is_value=True)
# print(f'total: {total}, used: {used}, free: {free}')

# print(f'matches: {matches}')

# df = pd.DataFrame(system_data)
# print(df)










# process_lines = process_data.split("\\n")
# # print(f'process_data: {len(process_lines)}')

# process_lines = process_lines[1:]

# header = process_lines[0].split()
# # print(f'header: {header}')

# process_lines = process_lines[1:]
# pp_lines = []
# for line in process_lines:
#     line = line.split()[:12]
#     line = line[:7] + line[8:]
#     pp_lines.append(line)



# # print(f'process_lines: {pp_lines}')

# df = pd.DataFrame(pp_lines, columns=header)


# print(df['%MEM'])
# print(df['%MEM'].astype('float').dropna().sum() / 100)



